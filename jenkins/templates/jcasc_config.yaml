{{ if eq .Values.jcasc.isenabled true }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-jcasc-config
  namespace: {{ .Release.Name }}
data:
  jcasc-config.yaml: |
    jenkins:
      systemMessage: "This Jenkins instance is generated from code via JCasC plugin."
      numExecutors: 0
      mode: NORMAL
      scmCheckoutRetryCount: 3


      securityRealm:
        local:
          allowsSignup: false
          users:
          - id: admin
            password: admin

{{ end }}